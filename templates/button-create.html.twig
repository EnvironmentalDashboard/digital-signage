<form onsubmit="return {{buttonFormHandler}}(event, this)" action="{{ buttonFormAction }}" method="POST" enctype="multipart/form-data">
  {% if button is defined %}<input type="hidden" name="buttonId" value="{{button.id}}" id="hiddenButtonId{{controller.id}}">{% endif %}
  <div class="form-group">
    <label for="buttonDisplaySelect{{controller.id}}">Select display</label>
    <select class="form-control" id="buttonDisplaySelect{{controller.id}}" name="buttonDisplaySelect" onchange="return loadCarousels(this)" data-target="#carouselList{{controller.id}}">
      {% for display in displays %}
      <option value="{{display.id}}" {% if button is defined and display.id == button.onDisplay.id %}selected{% endif %}>{{display.label}}</option>
      {% endfor %}
    </select>
  </div>
  <div class="form-group" id="carouselList{{controller.id}}">
    <div class="d-flex justify-content-center">
      <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </div>
  <div class="form-group" id="frameList{{controller.id}}">
  </div>
  {% if buttonFormHandler == "newButton" %}
  <input type="hidden" name="controllerId" value="{{controller.id}}">
  <div class="form-group">
    <label for="file{{controller.id}}">Button image</label>
    <input type="file" class="form-control-file" id="file{{controller.id}}" name="file">
  </div>
  <div class="form-group">
    <div class="progress" style="display: none">
      <div class="progress-bar" id="progress-bar{{controller.id}}" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
  </div>
  {% endif %}
  <button type="submit" class="btn btn-primary">Submit</button>
</form>

