# digital-signage

For local development, run `./build/composer-install.sh && php composer.phar install && php bin/console doctrine:database:create && php bin/console doctrine:migrations:diff && php bin/console doctrine:migrations:migrate` to create the SQLite database which needs to reside on the host and be bind mounted into the container so data persists across rebuilds. See the Symfony doctrine migrations [documentation](https://symfony.com/doc/master/bundles/DoctrineMigrationsBundle/index.html) for more information. Default templates need to be imported to use the app, which can be done with `cat ./build/default-templates.sql | sqlite3 ./var/data.db` (or use the doctrine-specific import tool that works with sqlite and mysql, `php bin/console doctrine:database:import build/default-templates.sql`).

In production we use a MySQL database which should never be touched unless you know what you're doing. If you know what you're doing and need to change the database schema, run `php bin/console doctrine:schema:update --force` in the container (where composer is already installed).