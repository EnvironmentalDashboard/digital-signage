# digital-signage

For local development, run `./build/composer-install.sh && php composer.phar install && php bin/console doctrine:database:create && php bin/console doctrine:migrations:diff && php bin/console doctrine:migrations:migrate` to create the SQLite database which needs to reside on the host and be bind mounted into the container so data persists across rebuilds. See the Symfony doctrine migrations [documentation](https://symfony.com/doc/master/bundles/DoctrineMigrationsBundle/index.html) for more information. To fill the database with some test data, run `cat ./build/default-templates.sql | sqlite3 ./var/data.db` and `cat ./build/test-data.sql | sqlite3 ./var/data.db`.

In production we use a MySQL database which should never be touched unless you know what you're doing. If you know what you're doing and need to change the database schema, run `php bin/console doctrine:migrations:diff && php bin/console doctrine:migrations:migrate` in the container (where composer is already installed).
